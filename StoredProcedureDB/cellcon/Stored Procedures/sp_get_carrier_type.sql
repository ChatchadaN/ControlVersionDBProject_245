-- =============================================
-- Author:		<Author,,Name>
-- Create date: <Create Date,,>
-- Description:	<Description,,>
-- =============================================
CREATE PROCEDURE [cellcon].[sp_get_carrier_type]
	-- Add the parameters for the stored procedure here
	@carrier_type VARCHAR(3),
	@pk_name VARCHAR(30), --ShortName
	@mc_type VARCHAR(30) = NULL,
	@lot_state int = 0 --0 NOTCARE, 1
AS
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;

    -- Insert statements for procedure here
	--DECLARE @carrier_type VARCHAR(3) , @pk_name VARCHAR(30)

SELECT 
CASE @carrier_type
    WHEN '00M' THEN 
		CASE @pk_name 
			WHEN 'HRP5' THEN  1 
			WHEN 'HRP7' THEN 1
			WHEN 'SSOP-A54_2' THEN 1
			WHEN 'SSOP-A54_3' THEN 1
			WHEN 'SIP9' THEN 1
			WHEN 'SSOP-A26_2' THEN 1
			ELSE  0 
		END 
    WHEN '0NO' THEN 
		CASE @pk_name 
			WHEN 'MSOP8' THEN 1
			WHEN 'SOP4' THEN 1
			WHEN 'SOP4-HF' THEN 1
			WHEN 'MSOP8-HF' THEN 1
			WHEN 'VSOF5' THEN 1
			WHEN 'HVSOF5' THEN 1
			WHEN 'HVSOF6' THEN 1
			WHEN 'HVSOF6-HF' THEN 1
			WHEN 'WSOF6' THEN 1
			WHEN 'WSOF6I' THEN 1
			WHEN 'WSOF5' THEN 1
			WHEN 'HSON8' THEN 1
			WHEN 'HSON8-HF' THEN 1
			WHEN 'TSSOP-B8J' THEN 1
			WHEN 'MSOP10' THEN 1
			WHEN 'TSSOP-C10J' THEN 1
			WHEN 'MSOP8E-HF' THEN 1
			ELSE 0
		END
    WHEN '0LF' THEN 
		CASE @mc_type WHEN 'TPDT-02' THEN
			CASE @lot_state WHEN 1 THEN
				CASE @pk_name
					WHEN 'SSON004R10' THEN 1
					WHEN 'SSON004X10' THEN 1
					WHEN 'SSON004X12' THEN 1
					WHEN 'USON014X30' THEN 1
					WHEN 'USON006X12' THEN 1			
					WHEN 'USON008X12' THEN 1			
					WHEN 'VSON008X20' THEN 1
					WHEN 'VSON008X22' THEN 1
					WHEN 'USON008X30' THEN 1
					WHEN 'VSON08AX20' THEN 1
					ELSE 0
				END
			END
		ELSE
			CASE @pk_name 
				WHEN 'TO252-5' THEN 1
				WHEN 'TO252' THEN 1 
				WHEN 'SOP24' THEN 1
				WHEN 'SSOP24-HF' THEN 1
				WHEN 'SSOP-B28' THEN 1
				WHEN 'SSOP-B20W' THEN 1
				WHEN 'SSOP-B20WA' THEN 1
				WHEN 'SSOPB20WR1' THEN 1
				WHEN 'HTSSOP-B40' THEN 1
				WHEN 'TSSOP-C44' THEN 1
				WHEN 'HTSSOPC48R' THEN 1
				WHEN 'TSSOP-C48V' THEN 1
				WHEN 'HTSSOP-C48' THEN 1
				WHEN 'HTSSOP-B20' THEN 1
				WHEN 'HSON-A8' THEN 1
				WHEN 'SOP20' THEN 1
				WHEN 'SOP22' THEN 1
				WHEN 'SSOP-B10W' THEN 1
				WHEN 'SOT223-4' THEN 1
				WHEN 'HSSOP-C16' THEN 1
				WHEN 'SOP-JW8' THEN 1
				WHEN 'SSOP-C38W' THEN 1
				WHEN 'HSSOP-C16' THEN 1
				WHEN 'TO252S-3' THEN 1
				WHEN 'TO252S-3+' THEN 1
				WHEN 'TO252S-5' THEN 1
				WHEN 'TO252S-5+' THEN 1
				WHEN 'TO252S-7+' THEN 1
				WHEN 'TO252-J3' THEN 1
				WHEN 'TO252-J5' THEN 1
				WHEN 'SSOP-A20' THEN 1
				WHEN 'SSOP-A24' THEN 1
				WHEN 'SSOP-A32' THEN 1
				WHEN 'SSOP-B20' THEN 1
				WHEN 'SSOP-B24' THEN 1
				WHEN 'SSOP-B40' THEN 1
				WHEN 'TSSOP-B30' THEN 1
				WHEN 'HTSSOPB20E' THEN 1
				WHEN 'HTSSOPC48E' THEN 1  
				WHEN 'SSOP-C26W' THEN 1 
				WHEN 'SSOPB30W19' THEN 1
				WHEN 'HTSOPC48XR' THEN 1
				WHEN 'HTSSOPB20X' THEN 1 
				WHEN 'SOP24-HF' THEN 1
				WHEN 'HTSSOPC48X' THEN 1
				WHEN 'SOT223-4Y' THEN 1
				WHEN 'TO252-3X' THEN 1
				WHEN 'TO252-5X' THEN 1
				WHEN 'SSOPC38W29' THEN 1
				ELSE 0 
			END
		END
	WHEN '00S' THEN 
		CASE @pk_name 
			WHEN 'SSOP-A44' THEN 1
			WHEN 'HSOP-M36' THEN 1
			WHEN 'HTSSOP-A44' THEN 1
			WHEN 'HTSSOPA44R' THEN 1
			WHEN 'HTSSOP-B54' THEN 1  
			WHEN 'HTSSOPB54R' THEN 1
			WHEN 'SSOP-B28W' THEN 1
			WHEN 'SSOPB28WR6' THEN 1
			WHEN 'VQFP64' THEN 1
			WHEN 'SQFP-T52' THEN 1
			WHEN 'VQFP48C' THEN 1
			WHEN 'HTQFP64AV' THEN 1
			WHEN 'HTQFP64AVE' THEN 1
			WHEN 'HTQFP64BV' THEN 1
			WHEN 'HTQFP64BVE' THEN 1
			WHEN 'HTQFP64V' THEN 1
			WHEN 'HTQFP64VHF' THEN 1
			WHEN 'QFP32' THEN 1
			WHEN 'SDIP22' THEN 1
			WHEN 'HTSSOPB54E' THEN 1
			ELSE 0 
		END
	WHEN '0LL' THEN 
		CASE @pk_name 
			WHEN 'TO263-3' THEN 1
			WHEN 'TO263-7' THEN 1
			WHEN 'TO263-5' THEN 1
			WHEN 'TO263-9' THEN 1  
			WHEN 'TO263-5X' THEN 1
			WHEN 'TO263-3X' THEN 1
			ELSE 0 
		END
	WHEN '0LM' THEN 
		CASE @pk_name 
			WHEN 'QFP-A64' THEN 1
			ELSE 0 
		END
	WHEN 'MAP' THEN 
		CASE @lot_state WHEN 0 THEN
			CASE @pk_name 
				WHEN 'SSON004R10' THEN 1
				WHEN 'SSON004X10' THEN 1
				WHEN 'SSON004X12' THEN 1
				WHEN 'USON014X30' THEN 1
				WHEN 'USON006X12' THEN 1			
				WHEN 'USON008X12' THEN 1			
				WHEN 'VSON008X20' THEN 1
				WHEN 'VSON008X22' THEN 1
				WHEN 'USON008X30' THEN 1
				WHEN 'VSON08AX20' THEN 1
				ELSE 0 
			END
		END
    ELSE 0
END AS RESULT
END